<!--ì¹´ë“œ ê²Œì„-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            background-image: url("img/poker.png");
        }
        img {
            margin-top: 5px;
            margin-bottom: 5px;
            margin-left: 2px;
            margin-right: 2px;
            width: 100px;
            height: 100px;
        }
        #container {
            display: grid;
            grid-template-columns: 1fr 3fr 1fr;
        }
        #gameArea {
            text-align: center;
            display: inline;
            height: 500px;
            width: 500px;
            position: static;
            margin-top: 50px;
            margin-bottom: 50px;
            margin-left: 10px;
            margin-right: 10px;
        }
        #btnArea {
            text-align: center
        }
        button {
            display: inline-block;
            margin: 0;
            padding: 0;
            position: relative;
            border: none;
            min-width: 200px;
            min-height: 50px;
            background: linear-gradient(
                90deg,
                rgba(129, 230, 217, 1) 0%,
                rgba(79, 209, 197, 1) 100%
            );
            border-radius: 1000px;
            color: darkslategray;
            cursor: pointer;
            box-shadow: 12px 12px 24px rgba(79, 209, 197, 0.64);
            font-weight: 700;
            transition: 0.3s;
        }
        #firstPlayerArea {
            text-align: center;
            display: inline;
            float : left;
            margin-top: 3em;
            margin-bottom: 3em;
        }
        #secondPlayerArea {
            text-align: center;
            display: inline;
            float : right;
            margin-top: 3em;
            margin-bottom: 3em;
        }
        #playerRecordArea {
            display: inline;
        }
        #playerArea {
            display: inline;
        }

        .title {
            color: white;
            font-style: italic;
            font-size : 25px;
            display: inline;
        }

        #leftPlayerArea {
            float : left;
        }
        #rightPlayerArea {
            float : right;
        }

        .record {
            color : yellow;
            font-style: oblique;
        }
        
    </style>
</head>
<body>
    <h1 style="text-align: center; color : white">Poker Game ğŸ°</h1>
    <div style="text-align: center; color : white;">
        <input id="userInformation" type="text">
        <button onclick="clickCreatePlayerButton('userInformation')">Create Your Player!!ğŸ¤¹ğŸ»â€â™‚ï¸</button>
    </div>
    

    <!-- <span id="leftPlayerArea">
        <div id="firstPlayerArea">
            <h2 class="title"></h2>
            <br>
        </div>
    </span>
    <span id="rightPlayerArea">
        <div id="secondPlayerArea">
            <h2 class="title"></h2>
            <br>
        </div>
    </span> -->
    <span>
        <div id="firstPlayerArea"></div>
        <div id="secondPlayerArea"></div>
    </span>

    <br>
    <br>
    <br>
    <br>
    <br>
    <br>


        
    </div>

    <div id="gameArea">
        <div id="cardArea"></div>
    </div>

    <br>
    <br>
    <br>
    
    <div id="btnArea">
        <button onclick="selectFirstPlayer()">
            í”Œë ˆì´ì–´1 ì‹œì‘
        </button>
    
        <button onclick="getGameResult()">
            ê²Œì„ ê²°ê³¼ ì¶œë ¥ 
        </button>
    
        <button onclick="selectSecondPlayer()">
            í”Œë ˆì´ì–´2 ì‹œì‘
        </button>
        <button onclick="clickHintButton()">
            íŒíŠ¸
        </button>
        <button onclick="clickRuleButton()">
            ë£° ì„¤ëª…
        </button>
    </div>

    <script>
        // ì¶”ê°€ ëœ ê¸°ëŠ¥ 
            // 1. ê²Œì„ ë£° ì„¤ëª…
            // 2. íŒíŠ¸ 2ë²ˆ ì£¼ê¸°
            // 3. ì‚¬ìš©ìê°€ ì§ì ‘ ì´ë¦„ ì§€ì •
            
        // 3ì°¨ ê°ì²´ ì„¤ê³„ë„ 
            // ê°ì²´ ì„¤ê³„ 
                // 1. ì¹´ë“œ ê°ì²´ âœ…
                    // iv -> cardImageNumber, state 
                        // cardImageNumber : ì¹´ë“œ ì´ë¯¸ì§€ ìˆ«ì, ìˆ«ìí˜• 
                        // state : ìƒíƒœ, ì•ë©´ì¸ì§€ ë’·ë©´ì¸ì§€, boolean 

                    // im -> getNumber(), getShape(), getColor(), getCardImageNumber(), isFront(), isSameNumber(), isSameColor(), isSameShape(), isSameCardImageNumber(), flip()
                        // getNumber() : ì¹´ë“œ ìˆ«ì ì¶”ì¶œ
                        // getShape() : ì¹´ë“œ ëª¨ì–‘ ì¶”ì¶œ
                        // getColor() : ì¹´ë“œ ìƒ‰ê¹” ì¶”ì¶œ 
                        // getCardImageNumber() : ì¹´ë“œ ì´ë¯¸ì§€ ìˆ«ì ë°˜í™˜ 
                        // isFront() : ì¹´ë“œê°€ ì•ë©´ì¸ì§€ ì‘ë‹µ
                        // isSameNumber() : ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ ë°›ì€ ì¹´ë“œì˜ ìˆ«ìì™€ ê°™ì€ì§€ ì‘ë‹µ 
                        // isSameColor() : ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ ë°›ì€ ì¹´ë“œì˜ ìƒ‰ê¹”ê³¼ ê°™ì€ì§€ ì‘ë‹µ 
                        // isSameShape() : ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ ë°›ì€ ì¹´ë“œì˜ ëª¨ì–‘ê³¼ ê°™ì€ì§€ ì‘ë‹µ 
                        // calculateSmaeCount() : ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ ë°›ì€ ê°’ë“¤ê³¼ ì–¼ë§ˆë‚˜ ë§ì•˜ëŠ”ì§€ ê³„ì‚°í•´ì„œ ì‘ë‹µ 
                        // isSameCardImageNumber() : ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ ë°›ì€ ì¹´ë“œì˜ ì´ë¯¸ì§€ ìˆ«ìì™€ ê°™ì€ì§€ ì‘ë‹µ  
                        // flip() : ì¹´ë“œ ìƒíƒœ ë°˜ì „ 
                    

                

                // 2. í”Œë ˆì´ì–´ ê°ì²´ âœ…
                    // iv -> name, score, leftCount
                        // name : ì´ë¦„, ë¬¸ìì—´
                        // score : ì ìˆ˜, ìˆ«ìí˜• 
                        // leftCount : ë‚¨ì€ íŒìˆ˜, ìˆ«ìí˜•  

                    // im -> getName(), getScore(), getLeftCount(), isWinner(), isLeftCount(), addScore(), decreaseCount()
                        // getName() : ì´ë¦„ ë°˜í™˜
                        // getScore() : ì ìˆ˜ ë°˜í™˜
                        // getLeftCount() : ë‚¨ì€ íšŸìˆ˜ ë°˜í™˜
                        // isWinner() : ìì‹ ì´ ìŠ¹ìì¸ì§€, íŒ¨ìì¸ì§€, ë¬´ìŠ¹ë¶€ì¸ì§€ ì‘ë‹µ
                        // isLeftCount() : ë‚¨ì€ íšŸìˆ˜ê°€ ìˆëŠ”ì§€ ì‘ë‹µ
                        // addScore() : ìì‹ ì˜ ì ìˆ˜ì— ì¼ì •ëŸ‰ ë”í•¨
                        // decreaseCount() : ë‚¨ì€ íšŸìˆ˜ë¥¼ 1 ê°ì†Œí•¨
            
                // 3. ê²Œì„ ì§„í–‰ì ê°ì²´ âœ…
                    // iv -> cardImageNumbers, FIRST_CARD_IMAGE_NUMBER, LAST_CARD_IMAGE_NUMBER, cards, currentPlayerSelectedTwoCard, firstPlayer, secondPlayer, currentPlayer, gameResultMessage
                        // cardImageNumbers : ì¹´ë“œ ì´ë¯¸ì§€ ìˆ«ìë¥¼ ì €ì¥í•˜ëŠ” ë°°ì—´
                        // FIRST_CARD_IMAGE_NUMBER, LAST_CARD_IMAGE_NUMBER : ì¹´ë“œ ì´ë¯¸ì§€ ìˆ«ìì˜ ì‹œì‘ê³¼ ë ìˆ«ì
                        // cards : ì¹´ë“œ ê°ì²´ ì €ì¥í•˜ëŠ” ë°°ì—´
                        // currentPlayerSelectedTwoCard : í˜„ì¬ í”Œë ˆì´ì–´ê°€ ì„ íƒí•œ 2ê°œì˜ ì¹´ë“œë¥¼ ì €ì¥í•˜ëŠ” ë°°ì—´
                        // firstPlayer, secondPlayer, currentPlayer : ì²«ë²ˆì§¸ í”Œë ˆì´ì–´ ê°ì²´, ë‘ë²ˆì§¸ í”Œë ˆì´ì–´ ê°ì²´, í˜„ì¬ ê²Œì„ì„ ì§„í–‰í•˜ëŠ” í”Œë ˆì´ì–´ ê°ì²´
                        // gameResultMessage : ê²Œì„ ê²°ê³¼ ìˆ«ìì™€ ê²Œì„ ê²°ê³¼ ë©”ì‹œì§€ë¥¼ ë§¤ì¹­ì‹œì¼œì„œ ì €ì¥í•œ ë§µ

                    // im -> appendAllCardTag(), appendAllPlayerTag(), getCurrentPlayer(), getGameResult(), getSameAmountBetweenTwoSelectedCard(), 
                           // createAllCard(), createAllPlayer(), createGameResultMessage(), updateGame(), updateAllPlayerTag(), occurPlayerSelectCard(),
                           // startGame(), suffleAllCard(), suffleAllCardImageNumber(), setFirstPlayerOnCurrentPlayer(), setSecondPlayerOnCurrentPlayer(), showSelectedCard(),
                           // hideAllFrontCard(), findSelectedCardByTag(), notifyGameResult(), resetAllPlayer()
                        
                            // appendAllCardTag() : ëª¨ë“  ì¹´ë“œ ê°ì²´ì˜ íƒœê·¸ë¥¼ ìƒì„±í•´ì„œ ì¶”ê°€
                            // appendAllPlayerTag() : ëª¨ë“  í”Œë ˆì´ì–´ ê°ì²´ì˜ íƒœê·¸ë¥¼ ìƒì„±í•´ì„œ ì¶”ê°€

                            // getCurrentPlayer() : í˜„ì¬ í”Œë ˆì´ì–´ë¥¼ ë°˜í™˜
                            // getGameResult() : í˜„ì¬ ê²Œì„ ê²°ê³¼ ìˆ«ìë¥¼ ë°˜í™˜
                            // getSameAmountBetweenTwoSelectedCard() : í˜„ì¬ í”Œë ˆì´ì–´ê°€ ì„ íƒí•œ 2ê°œì˜ ì¹´ë“œ ì¤‘ì—ì„œ ë¬´ì—‡ì´ ë§ëŠ”ì§€ ë°˜í™˜(ìˆ«ì, ìƒ‰ê¹”, ë„í˜•)

                            // createAllCard() : ëª¨ë“  ì¹´ë“œ ê°ì²´ë¥¼ ìƒì„±
                            // createAllPlayer() : ëª¨ë“  í”Œë ˆì´ì–´ ê°ì²´ë¥¼ ìƒì„±
                            // createGameResultMessage() : ëª¨ë“  ê²Œì„ ê²°ê³¼ ë©”ì‹œì§€ë¥¼ ìƒì„±í•´ì„œ ë§µì— ê²Œì„ ê²°ê³¼ ìˆ«ìì™€ ë§¤í•‘í•˜ì—¬ ì €ì¥

                            // updateGame() : ê²Œì„íŒ ì—…ë°ì´íŠ¸
                            // updateAllPlayerTag() : ëª¨ë“  í”Œë ˆì´ì–´ì˜ íƒœê·¸ ì—…ë°ì´íŠ¸

                            // occurPlayerSelectCard() : í”Œë ˆì´ì–´ê°€ ì¹´ë“œë¥¼ ì„ íƒí–ˆì„ ë•Œ ì²˜ë¦¬í•´ì¤˜ì•¼ í•  ì‘ì—…

                            // startGame() : ê²Œì„ì´ ì‹œì‘ëì„ ë•Œ ì´ˆê¸° í™”ë©´, ìƒíƒœ êµ¬ì„±
                            // suffleAllCard() : ëª¨ë“  ì¹´ë“œ ê°ì²´ë¥¼ ì„ìŒ
                            // suffleAllCardImageNumber() : ëª¨ë“  ì¹´ë“œ ì´ë¯¸ì§€ ìˆ«ìë¥¼ ì„ìŒ
                            // setFirstPlayerOnCurrentPlayer(), setSecondPlayerOnCurrentPlayer() : í˜„ì¬ í”Œë ˆì´ì–´ ì„¸íŒ…
                            // showSelectedCard() : ì„ íƒí•œ ì¹´ë“œë¥¼ í™”ë©´ì— ë³´ì—¬ì¤Œ

                            // hideAllFrontCard() : ì•ë©´ì¸ ì¹´ë“œë¥¼ ëª¨ë‘ ë’·ë©´ìœ¼ë¡œ ëŒë ¤ì¤Œ

                            // findSelectedCardByTag() : ì„ íƒœí•œ íƒœê·¸ì™€ ë§¤ì¹­ë˜ëŠ” ì¹´ë“œ ê°ì²´ ì°¾ê¸°

                            // notifyGameResult() : ê²Œì„ ê²°ê³¼ ë°œí‘œ

                            // resetAllPlayer() : ëª¨ë“  í”Œë ˆì´ì–´ ì´ˆê¸°í™” 

        // ì „ì—­ ë³€ìˆ˜
        const gameModerator = new GameModerator();
        const gameHelper = new GameHelper();
        const deck = new Deck();
        const gameResult = new GameResult();
        
        let firstPlayer = null;
        let secondPlayer = null;
        let currentPlayer = null;

        window.onload = function() {
                alert('ì–´ì„œì™€ ì—¬ëŠ˜ì´ì˜ "Poker Game ğŸ°"ì€ ì²˜ìŒì´ì§€?!ğŸ’¥');
                deck.shuffle();
                gameModerator.startGame();
        }

        // í”Œë ˆì´ì–´ê°€ ë£° ì„¤ëª… ë²„íŠ¼ì„ ëˆ„ë¥¸ ê²½ìš°
        function clickRuleButton() {
            // ê²Œì„ í—¬í¼ê°€ ë£°ì„ ì„¤ëª…í•œë‹¤.
            gameHelper.expalinRule();
        }

        // í”Œë ˆì´ì–´ê°€ íŒíŠ¸ ë²„íŠ¼ì„ ëˆ„ë¥¸ ê²½ìš°
        function clickHintButton() {
            // ê²Œì„ í—¬í¼ê°€ íŒíŠ¸ë¥¼ ì¤€ë‹¤.
            gameHelper.giveHint();
        }

        // ì‚¬ìš©ìê°€ í”Œë ˆì´ì–´ ìƒì„± ë²„íŠ¼ì„ ëˆ„ë¥¸ ê²½ìš°
        function clickCreatePlayerButton(inputTagPosion) {
            // ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë‹‰ë„¤ì„ì„ ì €ì¥í•˜ê³  ìˆëŠ” input íƒœê·¸ ì°¸ì¡°
            const input = document.getElementById(inputTagPosion);
            // ê²Œì„ í—¬í¼ì—ê²Œ ë„˜ê²¨ì£¼ì–´ í”Œë ˆì´ì–´ë¥¼ ìƒì„±í•¨ 
            gameHelper.createPlayer(input);
        }
                
        
        // ì‚¬ìš©ìê°€ ì²«ë²ˆì§¸ í”Œë ˆì´ì–´ì˜ ê²Œì„ ì‹œì‘ ë²„íŠ¼ì„ ëˆ„ë¥¸ ê²½ìš° 
        function selectFirstPlayer() {
            // ê²Œì„ ì§„í–‰ìê°€ í˜„ì¬ í”Œë ˆì´ì–´ë¥¼ ì²« ë²ˆì§¸ í”Œë ˆì´ì–´ë¡œ ì„¤ì • 
            gameModerator.setFirstPlayerOnCurrentPlayer(); 
            // ê²Œì„ ì§„í–‰ìê°€ ê²Œì„íŒ ì—…ë°ì´íŠ¸í•¨ 
            gameModerator.updateGame(); 
            // ê²Œì„ ì‹œì‘ ì•Œë¦¼ ë©”ì‹œì§€ë¥¼ ì¶œë ¥ 
            alert(`${gameModerator.getCurrentPlayerName()}ì˜ ê²Œì„ì„ ì‹œì‘í•©ë‹ˆë‹¤.ğŸ”Š`);
        }
        
        // ì‚¬ìš©ìê°€ ë‘ë²ˆì§¸ í”Œë ˆì´ì–´ì˜ ê²Œì„ ì‹œì‘ ë²„íŠ¼ì„ ëˆ„ë¥¸ ê²½ìš° 
        function selectSecondPlayer() {
            // ê²Œì„ ì§„í–‰ìê°€ í˜„ì¬ í”Œë ˆì´ì–´ë¥¼ ë‘ ë²ˆì§¸ í”Œë ˆì´ì–´ë¡œ ì„¤ì •í•¨ 
            gameModerator.setSecondPlayerOnCurrentPlayer(); 
            // ê²Œì„ ì§„í–‰ìê°€ ê²Œì„íŒ ì—…ë°ì´íŠ¸í•¨ 
            gameModerator.updateGame(); 
            // ê²Œì„ ì‹œì‘ ì•Œë¦¼ ë©”ì‹œì§€ ì¶œë ¥ 
            alert(`${gameModerator.getCurrentPlayerName()}ì˜ ê²Œì„ì„ ì‹œì‘í•©ë‹ˆë‹¤.ğŸ”Š`); 
        }
        
        // í”Œë ˆì´ì–´ê°€ ì¹´ë“œ íƒœê·¸ë¥¼ ì„ íƒí•œ ê²½ìš°
        function selectCardTag(selectCardTag) {
            // ê²Œì„ ì§„í–‰ìê°€ ì ì ˆíˆ ì²˜ë¦¬í•´ì¤Œ
            gameModerator.occurPlayerSelectCard(selectCardTag);
        }
        
        // ì‚¬ìš©ìê°€ ê²°ê³¼ ì¶œë ¥ ë²„íŠ¼ì„ ëˆ„ë¥¸ê²½ìš°, ê²Œì„ ë§¤ë‹ˆì €ê°€ ê²Œì„ ê²°ê³¼ íŒë‹¨ 
        function getGameResult() {
            // ê²Œì„ ì§„í–‰ìëŠ” ê²Œì„ ê²°ê³¼ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆëŠ”ì§€ ì‘ë‹µ
            const answer = gameModerator.getGameResult();
            // ê²Œì„ì„ ëë‚¸ ê²½ìš° ê²Œì„íŒ ì—…ë°ì´íŠ¸ 
            if (answer) {
                // í”Œë ˆì´ì–´ ë¦¬ì…‹ 
                gameModerator.resetAllPlayer();
                // ê²Œì„ ì¬ì‹œì‘ 
                gameModerator.startGame(); 
            }
        }
        
        // ì‚¬ìš©ìì™€ ì†Œí†µí•˜ë©° ì‚¬ìš©ìë¥¼ ë•ëŠ” ê°ì²´ âœ…
        function GameHelper() {
            // ëœë¤ ì•„ë°”íƒ€ ì €ì¥ 
            const avators = ["ğŸ¤¹ğŸ»â€â™‚ï¸", "ğŸ‘¨ğŸ»â€ğŸ¤", "ğŸ‘©ğŸ»â€ğŸ³", "ğŸ¦¹ğŸ»â€â™‚ï¸", "ğŸ¤µğŸ»â€â™‚ï¸", "ğŸ§ğŸ»â€â™€ï¸", "ğŸ¦¸ğŸ»â€â™€ï¸", "ğŸ§™ğŸ»", "ğŸ‘°ğŸ»â€â™€ï¸"];
            const NUMBER_OF_CARD = 52;
            
            // ë‚œìˆ˜ ìƒì„±ê¸° 
            const randomGenerator = () => Math.floor(Math.random()*NUMBER_OF_CARD);

            // ë£° ì„¤ëª… 
            this.expalinRule = function() {
                // ğŸ“Œ ë°‘ì— ë£° ì—…ë°ì´íŠ¸ í•´ì•¼í•¨, ê²Œì„ ë£° ë³€ê²½ë¨ 
                let message = "";
                message += 'ì•ˆë…•í•˜ì„¸ìš”"Poker Game ğŸ°"ì— ì˜¤ì‹ ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤.'; 
                message += ' í¬ì»¤ ê²Œì„ì„ ì‹œì‘í•˜ê¸° ì•ì„œ ê°„ë‹¨í•˜ê²Œ ë£°ì„ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.';
                message += ' ê° í”Œë ˆì´ì–´ëŠ” 5íŒì˜ íŒìˆ˜ì™€ 3ë²ˆì˜ íŒíŠ¸ ê¸°íšŒê°€ ì£¼ì–´ì§‘ë‹ˆë‹¤.';
                message += ' ë˜í•œ, í”Œë ˆì´ì–´ëŠ” í•œíŒë‹¹ 2ê°œì˜ ì¹´ë“œë¥¼ ì„ íƒí•˜ë©´ë©ë‹ˆë‹¤.';
                message += ' ì´ë•Œ, ì¹´ë“œì˜ ìˆ«ì, ëª¨ì–‘, ìƒ‰ê¹”ì´ íŒë‹¨ ê¸°ì¤€ì´ ë˜ë©° 3ì¤‘ì— 1ê°œë¼ë„ ë§ì¶”ë©´ 1ì ì„ íšë“í•˜ê³  2ê°œë¥¼ ë§ì¶”ë©´ 2ì ì„ íšë“í•˜ë©° ë‘ ì¹´ë“œëŠ” ì•ë©´ ìƒíƒœë¡œ ë†“ì—¬ì§‘ë‹ˆë‹¤.';
                message += ' í•˜ì§€ë§Œ ëª¨ë‘ ëª» ë§ì¶œ ê²½ìš° ì¹´ë“œëŠ” ë‹¤ì‹œ ë’¤ì§‘í™ë‹ˆë‹¤. ê·¸ë¦¬ê³  ëª¨ë“  í”Œë ˆì´ì–´ê°€ ëª¨ë‘ í”Œë ˆì´í•œ ê²½ìš° ê²Œì„ ê²°ê³¼ ì¶œë ¥ ë²„íŠ¼ì„ í†µí•´ ê²Œì„ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.';

                // ë£° ë©”ì‹œì§€ ë³´ì—¬ì£¼ê¸° 
                alert(message);
            }

            // í”Œë ˆì´ì–´ ìƒì„± 
            this.createPlayer = function(input) {
                // ì´ë¯¸ ëª¨ë“  í”Œë ˆì´ì–´ê°€ ìƒì„±ëœ ê²½ìš° 
                if (firstPlayer !== null && secondPlayer !== null ) {
                    alert("ì´ë¯¸ ëª¨ë“  í”Œë ˆì´ì–´ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.ğŸ’¥");
                    gameResult.createAllMessage();
                    return;
                }

                // ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë‹‰ë„¤ì„ ê°€ì ¸ì˜¤ê¸°, ì—†ìœ¼ë©´ "ìµëª…í”Œë ˆì´ì–´"ë¡œ ì„¤ì • 
                const userName = input.value ? input.value : "ìµëª…í”Œë ˆì´ì–´";
                // ëœë¤ ì•„ë°”íƒ€ ë½‘ê¸°
                const avator = this.selectRandomAvator();

                // ì²« ë²ˆì§¸ í”Œë ˆì´ì–´ê°€ ì—†ëŠ” ê²½ìš°, ì²« ë²ˆì§¸ í”Œë ˆì´ì–´ë¡œ ë“±ë¡ 
                if (firstPlayer === null) {
                    firstPlayer = new Player(avator+userName);
                    alert(`ì²«ë²ˆì§¸ í”Œë ˆì´ì–´ "${firstPlayer.getName()}" ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.`);
                }
                // ë‘ ë²ˆì§¸ í”Œë ˆì´ì–´ê°€ ì—†ëŠ” ê²½ìš°, ë‘ ë²ˆì§¸ í”Œë ˆì´ì–´ë¡œ ë“±ë¡
                else if (secondPlayer === null) {
                    secondPlayer = new Player(avator+userName);
                    alert(`ë‘ë²ˆì§¸ í”Œë ˆì´ì–´ "${secondPlayer.getName()}" ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.`);
                }

                // ê²Œì„ ì§„í–‰ìê°€ í”Œë ˆì´ì–´ ì˜ì—­ ì—…ë°ì´íŠ¸ 
                gameModerator.updateAllPlayerTag();
            }

            // ëœë¤ ì•„ë°”íƒ€ë¥¼ ë½‘ìŒ 
            this.selectRandomAvator = function() {
                // ì•„ë°”íƒ€ ë°°ì—´ ì„ê¸° 
                this.suffleAllAvator();
                return avators[0];
            }

            // ì•„ë°”íƒ€ ë°°ì—´ ì„ê¸° 
            this.suffleAllAvator = function() {
                for (let i=0; i<100; i++) {
                    avators.sort(randomGenerator);
                }
            }

            // í”Œë ˆì´ì–´ì—ê²Œ íŒíŠ¸ ë³´ì—¬ì£¼ê¸° 
            this.giveHint = function() {
                // í˜„ì¬ í”Œë ˆì´ì–´ê°€ ì„¤ì •ë˜ì§€ ì•Šì€ ê²½ìš° 
                if (currentPlayer === null) {
                    alert("í˜„ì¬ í”Œë ˆì´ì–´ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ê±°ë‚˜ í”Œë ˆì´ì–´ë¥¼ ìƒì„±í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë‹¤ì‹œ í™•ì¸í•˜ê³  í”Œë ˆì´ í•´ì£¼ì„¸ìš”.ğŸ’¥");
                    return;
                }
                // ë±ì—ì„œ íŒíŠ¸ ì¹´ë“œ ë³´ì—¬ì£¼ê¸° 
                deck.showCardForHint();
                // ê²Œì„ ì§„í–‰ìê°€ í”Œë ˆì´ì–´ ì˜ì—­ ì—…ë°ì´íŠ¸í•˜ê¸° 
                gameModerator.updateAllPlayerTag();
            }
        }

        function Deck() {

            const FIRTS_CARD_IMAGE_NUMBER = 0;
            const LAST_CARD_IMAGE_NUMBER = 51;
            const NUMBER_OF_CARD = 52;
            const LAST_CARD_INDEX = NUMBER_OF_CARD-1;
            const MAX_HINT_COUNT = 3;

            const cardAllImageNumber = [];
            const cards = [];
            const selectedCardForHint = [];
            const currentPlayerTwoSelectedCard = [];

            let cardIndex = 0;
            let cardForHintIndex = 0;
            let currentPlayerSelectedCardIndex = 0;

            const randomGenerator = () => Math.floor(Math.random()*NUMBER_OF_CARD);

            for (let i=FIRTS_CARD_IMAGE_NUMBER; i<=LAST_CARD_IMAGE_NUMBER; i++) {
                cardAllImageNumber.push(i);
            }

            this.createDeck = function() {
                this.shuffleAllCardImageNumber();
                this.createAllCard();
            }

            this.shuffleAllCardImageNumber = function() {
                for (let i=0; i<100; i++) {
                    cardAllImageNumber.sort(() => Math.random()-0.5);
                }
            }

            this.createAllCard = function() {
                for (number of cardAllImageNumber) {
                    cards.push(new Card(number));
                }
            }

            this.selectRandomCard = function() {
                const randomNumber = randomGenerator();
                for (card of cards) {
                    if (card.isSameCardImageNumber(randomNumber)) {
                        return card;
                    }
                }
            }

            this.showCardForHint = function() {
                if (currentPlayer === null) {
                    alert("í”Œë ˆì´ì–´ë¥¼ ìƒì„±í•˜ê±°ë‚˜ í˜„ì¬ í”Œë ˆì´ì–´ ì‹œì‘ë²„íŠ¼ì„ ëˆ„ë¥´ê³  ê²Œì„ì„ ì§„í–‰í•´ì£¼ì„¸ìš”.ğŸ’¥");
                    return;
                }

                if (this.isAllCardFront()) {
                    alert("ì´ë¯¸ ëª¨ë“  ì¹´ë“œê°€ ë‹¤ ì•ë©´ì…ë‹ˆë‹¤.ğŸ’¥");
                    return;
                }

                if (!currentPlayer.isLeftHintCount()) {
                    alert(`í˜„ì¬ í”Œë ˆì´ì–´ì¸ "${currentPlayer.getName()}"ëŠ” íŒíŠ¸ë¥¼ ë‹¤ ì‚¬ìš©í•˜ì…¨ìŠµë‹ˆë‹¤.ğŸ’¥`);
                    return;
                }

                while (true) {
                    const selectedCard = this.selectRandomCard();
                    if (!selectedCard.isFront()) {
                        selectedCardForHint.push(selectedCard);
                        selectedCard.flip();
                        gameModerator.updateGameBoard();
                        currentPlayer.decreaseHintCount();
                        return; 
                    }
                }
            }

            this.isAllCardFront = function() {
                for (card of cards) {
                    if (!card.isFront()) {
                        return false;
                    }
                }

                return true;
            }

            this.getLengthOfCardForHint = function() {
                return selectedCardForHint.length;
            }

            this.indexOfCardForHint = function(index) {
                if (index >= this.getLengthOfCardForHint()) {
                    alert("ì˜ëª»ëœ ì¸ë±ìŠ¤ ë²”ìœ„ì…ë‹ˆë‹¤.");
                    return null;
                }

                return selectedCardForHint[index];
            }

            this.getLengthOfCurrentPlayerSelectedCard = function() {
                return currentPlayerTwoSelectedCard.length;
            }

            this.indexOfCurrentPlayerSelectedCard = function(index) {
                if (index >= this.getLengthOfCurrentPlayerSelectedCard()) {
                    alert("ì˜ëª»ëœ ì¸ë±ìŠ¤ ë²”ìœ„ì…ë‹ˆë‹¤.");
                    return null;
                }

                return currentPlayerTwoSelectedCard[index];
            }

            this.getLengthOfAllCard = function() {
                return cards.length;
            }

            this.indexOfCard = function(index) {
                if (index >= this.getLengthOfAllCard()){
                    alert("ì˜ëª»ëœ ì¸ë±ìŠ¤ ë²”ìœ„ì…ë‹ˆë‹¤.");
                    return null;
                }

                return cards[index];
            }

            this.selectCardInOrder = function() {
                if (cardIndex <= LAST_CARD_IMAGE_NUMBER) {
                    return cards[cardIndex++];
                } 

                cardIndex = 0;
                return cards[cardIndex++];
            }

            this.selectCurrentPlayerTwoSelectedCard = function() {
                if (currentPlayerTwoSelectedCard.length === 0) {
                    alert("ì„ íƒí•œ ì¹´ë“œê°€ ì—†ìŠµë‹ˆë‹¤.");
                    return null;
                }

                const card = currentPlayerTwoSelectedCard[Math.floor(currentPlayerSelectedCardIndex/currentPlayerTwoSelectedCard.length)];
                currentPlayerSelectedCardIndex++;
                return card;
            }



            this.shuffle = function() {
                if (cards.length === 0) {
                    this.createDeck();
                }

                this.initAllCard();

                for (let i=0; i<100; i++) {
                    cards.sort(() => Math.random() - 0.5);
                }
            }

            this.initAllCard = function() {
                for (card of cards) {
                    if (card.isFront()) {
                        card.flip();
                    }
                }
            }

            this.connectCardToCardImageNumber = function() {
                cardAllImageNumber.splice(0);
                for (card of cards) {
                    cardAllImageNumber.push(card.getCardImageNumber());
                }
            }

            this.initDeck = function() {
                this.shuffle();
                this.initAllCard();
                this.connectCardToCardImageNumber();
                selectedCardForHint.splice(0);
                currentPlayerTwoSelectedCard.splice(0);
            }
            
            this.findCard = function(cardImageNumber){
                for (card of cards) {
                    if (card.isSameCardImageNumber(cardImageNumber)) {
                        return card;
                    }
                }
            }

            this.isCurrentPlayerSelectedTwoCard = function() {
                return currentPlayerTwoSelectedCard.length === 2 ? true : false;
            }

            this.pushCurrentPlayerSelectedCard = function(selectedCard) {
                if (this.isCurrentPlayerSelectedTwoCard()) return;

                currentPlayerTwoSelectedCard.push(selectedCard);
            }

            this.shiftCurrentPlayerSelectedCard = function() {
                if (currentPlayerTwoSelectedCard.length  === 0) return;
                return currentPlayerTwoSelectedCard.shift();
            }

            this.isHintCard = function() {
                return selectedCardForHint.length > 0 ? true : false;
            }
        }
        // 1. ì¹´ë“œ ê°ì²´ : ì¹´ë“œì˜ ìƒíƒœ(ì•ë©´, ë’·ë©´)ê³¼ ì¹´ë“œ ìˆ«ì ì´ë¯¸ì§€ë¥¼ ì €ì¥, ê·¸ë¦¬ê³  ê·¸ì™€ ê´€ë ¨ëœ ì‘ì—… ë¬¶ìŒ 
        function Card(cardImageNumber = 0, state = false) {
            var cardImageNumber = cardImageNumber; // ì¹´ë“œì˜ ì´ë¯¸ì§€ ìˆ«ì 
            var state = state; // ì¹´ë“œì˜ ìƒíƒœê°’(ì•ë©´, ë’·ë©´)

            // ì¹´ë“œê°€ ì•ë©´ì¸ì§€ ì‘ë‹µ
            this.isFront = function() {
                return state;
            }

            // ì¹´ë“œì˜ ìˆ«ì ì¶”ì¶œ 
            this.getNumber = function() {
                return cardImageNumber % 13; 
            }

            // ì¹´ë“œì˜ ëª¨ì–‘ ì¶”ì¶œ 
            this.getShape = function() {
                return Math.floor(cardImageNumber/13); 
            }

            // ì¹´ë“œì˜ ìƒ‰ê¹” ì¶”ì¶œ  
            this.getColor = function() {
                return Math.floor(cardImageNumber/13)%2 === 0 ? "red" : "black";
            }

            // ì¹´ë“œì˜ ì´ë¯¸ì§€ ìˆ«ì ë°˜í™˜ 
            this.getCardImageNumber = function() {
                return cardImageNumber;
            }

            // ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ ë°›ì€ ê°’ê³¼ ì–¼ë§ˆë‚˜ ë§ì•˜ëŠ”ì§€ ê³„ì‚°í•´ì„œ ë°˜í™˜ 
            this.calculateSameCount = function(otherNumber, otherColor, otherShape) {
                return this.isSameNumber(otherNumber) + this.isSameColor(otherColor) + this.isSameShape(otherShape);
            }

            // ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ ë°›ì€ ë‹¤ë¥¸ ì¹´ë“œì˜ ìˆ«ìì™€ ì¼ì¹˜í•˜ëŠ”ì§€ íŒë‹¨ 
            this.isSameNumber = function(otherNumber) {
                return this.getNumber() === otherNumber ? 1 : 0;
            }

            // ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ ë°›ì€ ë‹¤ë¥¸ ì¹´ë“œì˜ ìƒ‰ê¹”ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ íŒë‹¨ 
            this.isSameColor = function(otherColor) {
                return this.getColor() === otherColor ? 1 : 0;
            }

            // ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ ë°›ì€ ë‹¤ë¥¸ ì¹´ë“œì˜ ëª¨ì–‘ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ íŒë‹¨ 
            this.isSameShape = function(otherShape) {
                return this.getShape() === otherShape ? 1 : 0;
            }

            // ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ ë°›ì€ ì¹´ë“œ ì´ë¯¸ì§€ ìˆ«ìê°’ê³¼ ë§ëŠ”ì§€ íŒë‹¨ 
            this.isSameCardImageNumber = function(otherCardImageNumber) {
                return cardImageNumber === otherCardImageNumber ? true : false;
            }

            // ì¹´ë“œ ë’¤ì§‘ê¸° 
            this.flip = function() {
                state = !state;
            }
        }

        // 2. í”Œë ˆì´ì–´ ê°ì²´ : ì´ë¦„, ì ìˆ˜, ë‚¨ì€ ê²Œì„ íšŸìˆ˜ ì €ì¥í•˜ê³  ê·¸ì™€ ê´€ë ¨ëœ ì‘ì—…ì„ ë¬¶ìŒ 
        function Player(name = "anonymous") {
            var name = name; // ì´ë¦„ 
            var score = 0; // ì ìˆ˜ 
            var leftCount = 100; // ê²Œì„ íšŸìˆ˜
            var leftHintCount = 3; // íŒíŠ¸ íšŸìˆ˜  

            // ìì‹ ì´ ìŠ¹ìì¸ì§€, íŒ¨ìì¸ì§€, ë¬´ìŠ¹ë¶€ì¸ì§€ íŒë‹¨(-1 : ìê¸°ê°€ ì´ê¹€, 0 : ë¬´ìŠ¹ë¶€, 1 : ìƒëŒ€ê°€ ì´ê¹€)
            this.isWinner = function(otherPlayerScore) {
                return score > otherPlayerScore ?  -1 : (score === otherPlayerScore ? 0: 1);
            }

            // ë‚¨ì€ íšŸìˆ˜ê°€ ìˆëŠ”ì§€ ì‘ë‹µ  
            this.isLeftCount =  function() {
                return leftCount > 0 ? true : false;
            }

            // ë‚¨ì€ íŒíŠ¸ íšŸìˆ˜ê°€ ìˆëŠ”ì§€ ì‘ë‹µ
            this.isLeftHintCount = function() {
                return leftHintCount > 0 ? true : false;
            }

            // ì´ë¦„ ë°˜í™˜ 
            this.getName = function() {
                return name;
            }

            // ì ìˆ˜ ë°˜í™˜ 
            this.getScore = function() {
                return score;
            }

            // ë‚¨ì€ íšŸìˆ˜ ë°˜í™˜ 
            this.getLeftCount = function() {
                return leftCount;
            }

            // ë‚¨ì€ íŒíŠ¸ íšŸìˆ˜ ë°˜í™˜
            this.getLeftHintCount = function() {
                return leftHintCount;
            }

            // ìì‹ ì˜ ì ìˆ˜ì— ì¼ì •ëŸ‰ë§Œí¼ ë”í•¨ 
            this.addScore = function(amount) {
                score += amount;
            }

            // ë‚¨ì€ íšŸìˆ˜ë¥¼ 1 ê°ì†Œ 
            this.decreaseCount = function() {
                if (leftCount > 0) {
                    leftCount--;
                }
            }

            // ë‚¨ì€ íŒíŠ¸ íšŸìˆ˜ë¥¼ 1 ê°ì†Œ
            this.decreaseHintCount = function() {
                if (leftHintCount > 0) {
                    leftHintCount--;
                }
            }

        }

        // ê²Œì„ ê²°ê³¼ ì €ì¥ ê°ì²´ :
        function GameResult() {
            var map = new Map();

            this.createAllMessage = function() {
                if (firstPlayer instanceof Player && secondPlayer instanceof Player) {
                    map.set(-1, `"${firstPlayer.getName()}"ì´ ì´ê²¼ìŠµë‹ˆë‹¤.ğŸ”Š`); 
                    map.set(0, `"${firstPlayer.getName()}"ì™€ "${secondPlayer.getName()}"ì˜ ì ìˆ˜ê°€ ê°™ìŠµë‹ˆë‹¤. ë¬´ìŠ¹ë¶€ì…ë‹ˆë‹¤.ğŸ”Š`);
                    map.set(1, `${secondPlayer.getName()}ê°€ ì´ê²¼ìŠµë‹ˆë‹¤.ğŸ”Š`);
                    return;
                }
            }

            
            this.translateGameMessage = function(gameResult) {
                return map.get(gameResult);
            }
        }

        // 3. ê²Œì„ ë§¤ë‹ˆì € ê°ì²´ : ì¹´ë“œê°ì²´ì™€ í”Œë ˆì´ì–´ ê°ì²´ë¥¼ í¬í•¨í•´ì„œ, ì „ì²´ í”„ë¡œê·¸ë¨ì˜ íë¦„ì„ ë‹´ë‹¹
        function GameModerator() {

            var currentPlayerTwoSelectedCard = []; // í˜„ì¬ í”Œë ˆì´ì–´ê°€ ì„ íƒí•œ ì¹´ë“œë¥¼ ì €ì¥ 
            var gameResultMessage = new Map(); // ê²Œì„ ê²°ê³¼ ë§µì— ì €ì¥ 


            // ê²Œì„ì´ ì‹œì‘í–ˆì„ ë•Œ ì´ˆê¸°í™”ë©´ê³¼ ê° ê°ì²´ ìƒíƒœ êµ¬ì„±
            this.startGame = function() {
                // ë±ì— ìˆëŠ” ì¹´ë“œ ì„ê¸°
                deck.shuffle();
                // ê²Œì„ ë©”ì‹œì§€ ì…ì„±
                gameResult.createAllMessage();
                // ëª¨ë“  ì¹´ë“œ íƒœê·¸ ìƒì„±í•´ì„œ ì¶”ê°€
                this.updateAllCardTag();
                // ëª¨ë“  í”Œë ˆì´ì–´ íƒœê·¸ ë¶™ì´ê¸°
                this.updateAllPlayerTag();
            }

            // ê²Œì„íŒ ì—…ë°ì´íŠ¸ 
            this.updateGame = function() {
                // ë±ì— ìˆëŠ” ì¹´ë“œ ë‹¤ì‹œ ì„ê¸°
                deck.shuffle();
                // ì¹´ë“œ íƒœê·¸ ìƒì„±í•´ì„œ ë¶™ì´ê¸°
                this.updateAllCardTag();
                // í”Œë ˆì´ì–´ íƒœê·¸ ì—…ë°ì´íŠ¸í•˜ê¸°
                this.updateAllPlayerTag();
            }

            this.updateGameBoard = function() {
                const cardAreaChildren = document.getElementById("cardArea").children;

                for (child of cardAreaChildren) {
                    const card = deck.selectCardInOrder();
                    if (card.isSameCardImageNumber(parseInt(child.getAttribute("data-number")))) {
                        if (card.isFront()) {
                            child.setAttribute("src", `img/card_img/${card.getCardImageNumber()}.png`);
                        }
                    }
                }
            }


            // ëª¨ë“  ê²Œì„ ê²°ê³¼ ë©”ì‹œì§€ë¥¼ ìƒì„±í•´ì„œ ë§µì— ê²Œì„ ê²°ê³¼ ìˆ«ìì™€ ë§¤í•‘í•˜ì—¬ ì €ì¥ 
            this.createGameResultMessage = function() {
                if (firstPlayer instanceof Player && secondPlayer instanceof Player) {
                    gameResultMessage.set(-1, `"${firstPlayer.getName()}"ì´ ì´ê²¼ìŠµë‹ˆë‹¤.ğŸ”Š`); 
                    gameResultMessage.set(0, `"${firstPlayer.getName()}"ì™€ "${secondPlayer.getName()}"ì˜ ì ìˆ˜ê°€ ê°™ìŠµë‹ˆë‹¤. ë¬´ìŠ¹ë¶€ì…ë‹ˆë‹¤.ğŸ”Š`);
                    gameResultMessage.set(1, `${secondPlayer.getName()}ê°€ ì´ê²¼ìŠµë‹ˆë‹¤.ğŸ”Š`);
                }
            }

            // ëª¨ë“  ì¹´ë“œ ê°ì²´ì˜ íƒœê·¸ë¥¼ ìƒì„±í•´ì„œ ì¶”ê°€ 
            this.updateAllCardTag = function() {
                const cardArea = document.getElementById("cardArea");
                cardArea.innerHTML = "";

                for (let i=0; i<deck.getLengthOfAllCard(); i++) {
                    const card = deck.indexOfCard(i);
                    const imgTag = document.createElement("img");

                    if (card.isFront()) {
                        imgTag.setAttribute("src", `img/card_img/${card.getCardImageNumber()}.png`);
                    } else {
                        imgTag.setAttribute("src", `img/card_img/back.png`);
                    }

                    imgTag.setAttribute("data-number", card.getCardImageNumber());
                    imgTag.setAttribute("onclick", "selectCardTag(this)");
                    cardArea.appendChild(imgTag);
                }
            }

            // ëª¨ë“  í”Œë ˆì´ì–´ì˜ íƒœê·¸ ì—…ë°ì´íŠ¸ 
            this.updateAllPlayerTag = function() {
                const firstPlayerArea = document.getElementById("firstPlayerArea");
                const secondPlayerArea = document.getElementById("secondPlayerArea");

                if (firstPlayer instanceof Player) {
                    firstPlayerArea.innerHTML = `<h3 class="title">${firstPlayer.getName()}</h3>`;
                    firstPlayerArea.innerHTML += `<br>`;
                    firstPlayerArea.innerHTML += `<p class="record"><strong>ğŸ‘‰ ë‚¨ì€ íšŸìˆ˜-${firstPlayer.getLeftCount()}, í˜„ì¬ ì ìˆ˜-${firstPlayer.getScore()}, ë‚¨ì€ íŒíŠ¸-${firstPlayer.getLeftHintCount()} ğŸ‘¯â€â™€ï¸</strong></p>`;    
                }
                
                if (secondPlayer instanceof Player) {
                    secondPlayerArea.innerHTML = `<h3 class="title">${secondPlayer.getName()}</h3>`
                    secondPlayerArea.innerHTML += `<br>`;
                    secondPlayerArea.innerHTML += `<p class="record"><strong>ğŸ‘‰ ë‚¨ì€ íšŸìˆ˜-${secondPlayer.getLeftCount()}, í˜„ì¬ ì ìˆ˜-${secondPlayer.getScore()}, ë‚¨ì€ íŒíŠ¸-${secondPlayer.getLeftHintCount()} ğŸ‘¯â€â™€ï¸</strong></p>`;
                }
            }

            
            // ì²«ë²ˆì§¸ í”Œë ˆì´ì–´ë¥¼ í˜„ì¬ í”Œë ˆì´ì–´ë¡œ ì„¤ì • 
            this.setFirstPlayerOnCurrentPlayer = function() {
                if (firstPlayer === null) {
                    alert('ì²«ë²ˆì§¸ í”Œë ˆì´ì–´ë¥¼ ìƒì„±í•˜ê³  "í”Œë ˆì´ì–´1 ì‹œì‘"ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.ğŸ’¥');
                    return;
                }

                currentPlayer = firstPlayer;
            }

            // ë‘ë²ˆì§¸ í”Œë ˆì´ì–´ë¥¼ í˜„ì¬ í”Œë ˆì´ì–´ë¡œ ì„¤ì • 
            this.setSecondPlayerOnCurrentPlayer = function() {
                if (secondPlayer === null) {
                    alert('ë‘ë²ˆì§¸ í”Œë ˆì´ì–´ë¥¼ ìƒì„±í•˜ê³  "í”Œë ˆì´ì–´2 ì‹œì‘" ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ìƒˆìš”.ğŸ’¥');
                    return;
                }

                currentPlayer = secondPlayer;
            }

            // í˜„ì¬ í”Œë ˆì´ì–´ê°€ ì¹´ë“œë¥¼ ì„ íƒí–ˆì„ ë•Œ ì²˜ë¦¬í•´ì¤˜ì•¼ í•  ì‘ì—… 
            this.occurPlayerSelectCard = function(selectedCardTag) {
                // í˜„ì¬ í”Œë ˆì´ì–´ ê°ì²´ê°€ ì„¤ì •ë˜ì§€ ì•Šì€ ê²½ìš° 
                if (!(currentPlayer instanceof Player)) { 
                    // í˜„ì¬ ìƒíƒœ ì•Œë ¤ì£¼ê¸° 
                    alert("í”Œë ˆì´ì–´ ì‹œì‘ ë²„íŠ¼ì„ ëˆ„ë¥´ê³  ê²Œì„ì„ ì§„í–‰í•˜ì„¸ìš”.ğŸ”Š");
                    return;
                }

                // í˜„ì¬ í”Œë ˆì´ì–´ê°€ ëª¨ë“  íšŸìˆ˜ë¥¼ ë‹¤ ì†Œì§„í•œ ê²½ìš°
                if (!currentPlayer.isLeftCount()) { 
                    // í˜„ì¬ ìƒíƒœ ì•Œë ¤ì£¼ê¸° 
                    alert(`"${currentPlayer.getName()}"ì˜ ê²Œì„ íšŸìˆ˜ê°€ ${currentPlayer.getLeftCount()}ì…ë‹ˆë‹¤.ğŸ”Š`);
                    alert(`"${currentPlayer.getName()}"ì˜ ì ìˆ˜ëŠ” ${currentPlayer.getScore()}ì…ë‹ˆë‹¤.ğŸ”Š`);
                    // íƒœê·¸ ì—…ë°ì´íŠ¸ 
                    this.updateAllPlayerTag();
                    return;
                }

                // í”Œë ˆì´ì–´ê°€ ì„ íƒí•œ íƒœê·¸ì— ëŒ€ì‘ë˜ëŠ” ì¹´ë“œ ê°€ì ¸ì˜´ 
                const currentPlayerSelectedCard = this.findSelectedCardByTag(selectedCardTag);
                if (currentPlayerSelectedCard.isFront()) {
                    // ì•ë©´ì¸ ê²½ìš° ê±´ë„ˆë›°ê¸°
                    return; 
                }

                // ì²«ë²ˆì§¸ ì¹´ë“œì™€ íŒíŠ¸ ì¹´ë“œ ë¹„êµ
                let sameCountForFirstSelectedCardWithHint = 0;
                // ë‘ë²ˆì§¸ ì¹´ë“œì™€ íŒíŠ¸ ì¹´ë“œ ë¹„êµ 
                let sameCountForSecondSelectecCardWithHint = 0;
                // íŒíŠ¸ ì¹´ë“œì™€ ì´ì „ì— ì„ íƒí•œ ì¹´ë“œ ë¨¼ì € ë¹„êµ 
                for (let i=0; i<deck.getLengthOfCardForHint(); i++) {
                    // íŒíŠ¸ ì¹´ë“œ í•˜ë‚˜ì”© ì°¸ì¡°
                    const cardForHint = deck.indexOfCardForHint(i);
                    // í˜„ì¬ í”Œë ˆì´ì–´ê°€ ì„ íƒí•œ ì¹´ë“œ í•˜ë‚˜ì”© ì°¸ì¡° 
                    for (let j=0; j<deck.getLengthOfCurrentPlayerSelectedCard(); j++) {
                        const selectedCard = deck.indexOfCard(j);
                        // ì„œë¡œ ì¼ì¹˜í•˜ëŠ” ê°¯ìˆ˜ ì¹´ìš´íŠ¸ 
                        const amount = selectedCard.calculateSameCount(cardForHint.getNumber(), cardForHint.getColor(), cardForHint.getShape());
                        
                        // ì²« ë²ˆì§¸ ì¹´ë“œì¸ ê²½ìš° "ì²« ë²ˆì§¸ ì¹´ë“œì™€ íŒíŠ¸ ì¹´ë“œ ë¹„êµ"ì— ê¸°ë¡
                        if (j === 0) {
                            sameCountForFirstSelectedCardWithHint += amount;
                        } 
                        // ë‘ ë²ˆì§¸ ì¹´ë“œì¸ ê²½ìš° "ë‘ ë²ˆì§¸ ì¹´ë“œì™€ íŒíŠ¸ ì¹´ë“œ ë¹„êµ"ì— ê¸°ë¡
                        else {
                            sameCountForSecondSelectecCardWithHint += amount;
                        }

                        // ìŠ¤ì½”ì–´ ì—…ë°ì´íŠ¸
                        currentPlayer.addScore(amount);
                        // íƒœê·¸ ì—…ë°ì´íŠ¸ 
                        this.updateAllPlayerTag();
                    }
                }

                // ë‘ê°œì˜ ì¹´ë“œë¥¼ ì„ íƒí–ˆìœ¼ë©´ ì„œë¡œ ë¹„êµ 
                if (deck.isCurrentPlayerSelectedTwoCard()) {
                    // ë‘ê°œì˜ ì¹´ë“œ ì„œë¡œ ì¼ì¹˜í•˜ëŠ” ê°¯ìˆ˜ ì¹´ìš´íŠ¸ ë° ë’¤ì§‘ê¸° 
                    const amount = this.getSameAmountBetweenTwoSelectedCard(sameCountForFirstSelectedCardWithHint, sameCountForSecondSelectecCardWithHint);
                    // ìŠ¤ì½”ì–´ ì—…ë°ì´íŠ¸ 
                    currentPlayer.addScore(amount);
                    // íŒìˆ˜ ì—…ë°ì´íŠ¸ 
                    currentPlayer.decreaseCount();
                    // íƒœê·¸ ì—…ë°ì´íŠ¸ 
                    this.updateAllPlayerTag();
                    return;
                }

                // ì¹´ë“œ ê°ì²´ì— í˜„ì¬ í”Œë ˆì´ì–´ê°€ ì„ íƒí•œ ì¹´ë“œ ì €ì¥ 
                deck.pushCurrentPlayerSelectedCard(currentPlayerSelectedCard);
                // ì„ íƒí•œ ì¹´ë“œ ë³´ì—¬ì£¼ê¸°
                this.showSelectedCard(selectedCardTag);
            }

            // í˜„ì¬ í”Œë ˆì´ì–´ê°€ ì„ íƒí•œ 2ê°œì˜ ì¹´ë“œ ì¤‘ì—ì„œ ë¬´ì—‡ì´ ë§ëŠ”ì§€ ìˆ«ìë¡œ ë°˜í™˜(ìˆ«ì, ìƒ‰ê¹”, ë„í˜•)
            this.getSameAmountBetweenTwoSelectedCard = function(sameAmountWithHintForFirstCard, sameAmountWithHintForSecondCard) {
                const firstSelectedCard = deck.shiftCurrentPlayerSelectedCard();
                const secondSelectedCard = deck.shiftCurrentPlayerSelectedCard();
                const amount = firstSelectedCard.calculateSameCount(secondSelectedCard.getNumber(), secondSelectedCard.getColor(), secondSelectedCard.getShape());
                const cardAreaChildren = document.getElementById("cardArea").children; // í•´ë‹¹ ì¹´ë“œ ê°ì²´ì— í•´ë‹¹í•˜ëŠ” íƒœê·¸ì˜ ì†ì„± ì—…ë°ì´íŠ¸(ë’·ë©´ìœ¼ë¡œ ì„¤ì •)    

                // ì„ íƒí•œ ë‘ ì¹´ë“œì˜ ìˆ«ì, ì»¬ëŸ¬, ëª¨ì–‘ ì•ˆ ë§ì€ ê²½ìš°
                if (amount === 0) { 
                    // ëª¨ë“  íŒíŠ¸ ì¹´ë“œì™€ ì„ íƒí•œ ë‘ì¹´ë“œê°€ ì„œë¡œ ì¼ì¹˜í•˜ëŠ”ê²Œ í•˜ë‚˜ë„ ì—†ì„ ë•Œ, ëª¨ë‘ ë’¤ì§‘ê¸°
                    if (sameAmountWithHintForFirstCard === 0 && sameAmountWithHintForSecondCard === 0) {
                        firstSelectedCard.flip(); // ì²«ë²ˆì§¸ ì¹´ë“œ ë’¤ì§‘ê¸° 
                        secondSelectedCard.flip(); // ë‘ë²ˆì§¸ ì¹´ë“œ ë’¤ì§‘ê¸° 
                        for (child of cardAreaChildren) {
                            if (firstSelectedCard.isSameCardImageNumber(parseInt(child.getAttribute("data-number"))) || secondSelectedCard.isSameCardImageNumber(parseInt(child.getAttribute("data-number")))) {
                                child.setAttribute("src", `img/card_img/back.png`);
                            } 
                        }
                    } 
                    // ëª¨ë“  íŒíŠ¸ ì¹´ë“œì™€ ì„ íƒí•œ ë‘ ë²ˆì§¸ ì¹´ë“œê°€ ì„œë¡œ ì¼ì¹˜í•˜ëŠ” ê²Œ ì—†ì„ ë•Œ, ë‘ ë²ˆì§¸ ì¹´ë“œë§Œ ë’¤ì§‘ê¸°
                    else if (sameAmountWithHintForFirstCard !== 0 && sameAmountWithHintForSecondCard === 0) {
                        secondSelectedCard.flip();
                        for (child of cardAreaChildren) {
                            if (secondSelectedCard.isSameCardImageNumber(parseInt(child.getAttribute("data-number")))) {
                                child.setAttribute("src", `img/card_img/back.png`);
                            }
                        }
                    }
                    // ëª¨ë“  íŒíŠ¸ ì¹´ë“œì™€ ì„ íƒí•œ ì²« ë²ˆì§¸ ì¹´ë“œê°€ ì„œë¡œ ì¼ì¹˜í•˜ëŠ” ê²Œ ì—†ì„ ë•Œ, ì²« ë²ˆì§¸ ì¹´ë“œë§Œ ë’¤ì§‘ê¸°
                    else if (sameAmountWithHintForFirstCard === 0 && sameAmountWithHintForSecondCard !== 0) {
                        firstSelectedCard.flip();
                        for (child of cardAreaChildren) {
                            if (firstSelectedCard.isSameCardImageNumber(parseInt(child.getAttribute("data-number")))) {
                                child.setAttribute("src", `img/card_img/back.png`);
                            }
                        }
                    }
                } 
                
                // ë‘ ì¹´ë“œê°€ ì¼ì¹˜í•˜ëŠ” ê°¯ìˆ˜ ë°˜í™˜ 
                return amount;
            }


            // ì„ íƒí•œ íƒœê·¸ì™€ ë§¤ì¹­ë˜ëŠ” ì¹´ë“œ ê°ì²´ ì°¾ê¸° 
            this.findSelectedCardByTag = function(selectedCardTag) {
                const selectedCardImageNumber = parseInt(selectedCardTag.getAttribute("data-number"));
                return deck.findCard(selectedCardImageNumber);
            }


            // ì„ íƒí•œ ì¹´ë“œë¥¼ í™”ë©´ì— ë³´ì—¬ì¤Œ 
            this.showSelectedCard = function(selectedCardTag) {
                if (!currentPlayer.isLeftCount()) return; // í˜„ì¬ í”Œë ˆì´ì–´ì˜ ê²Œì„ íšŸìˆ˜ê°€ 0ì¸ ê²½ìš° 
                const currentPlayerSelectedCard = this.findSelectedCardByTag(selectedCardTag); // í˜„ì¬ í”Œë ˆì´ì–´ê°€ ì„ íƒí•œ íƒœê·¸ì— í•´ë‹¹í•˜ëŠ” ì¹´ë“œ ê°ì²´ ì°¾ê¸° 
                
                if (currentPlayerSelectedCard.isFront()) return; // ì¹´ë“œ ê°ì²´ê°€ ì•ë©´ì´ë©´ ìŠ¤í‚µ 
                currentPlayerSelectedCard.flip(); // ì¹´ë“œ ê°ì²´ê°€ ë’·ë©´ì´ì˜€ìœ¼ë©´, ëŒë¦¬ê¸° 
                selectedCardTag.setAttribute("src", `img/card_img/${currentPlayerSelectedCard.getCardImageNumber()}.png`);  // ì¹´ë“œ íƒœê·¸ì˜ ì†ì„± ì—…ë°ì´íŠ¸ 
            }

            // ê²Œì„ ê²°ê³¼ë¥¼ ìˆ«ìë¡œ ì¡°íšŒ 
            this.getGameResult = function() {
                if (firstPlayer.isLeftCount() || secondPlayer.isLeftCount()) { // í”Œë ˆì´ì–´ì˜ ê²Œì„ íšŸìˆ˜ê°€ ë‚¨ì•„ìˆëŠ” ê²½ìš°, ìŠ¤í‚µ 
                    alert(`ì•„ì§ í”Œë ˆì´ì–´ì˜ íŒìˆ˜ê°€ ë‚¨ì•„ìˆìŠµë‹ˆë‹¤. ëª¨ë“  í”Œë ˆì´ì–´ì˜ íŒìˆ˜ ë‹¤ ëë‚˜ë©´ ìš”ì²­í•´ì£¼ì„¸ìš”.ğŸ”Š`);
                    return false;
                }

                const result = firstPlayer.isWinner(secondPlayer.getScore()); // ê²Œì„ ê²°ê³¼ë¥¼ ìˆ«ìë¡œ ë°˜í™˜
                this.notifyGameResult(result); // ìˆ«ì ê²°ê³¼ë¥¼ ë¬¸ì ê²°ê³¼ë¡œ ë°˜í™˜í•´ì„œ ì¶œë ¥ 
                return true;
            }

            // ê²Œì„ ê²°ê³¼ ë©”ì‹œì§€ë¡œ ë°œí‘œ 
            this.notifyGameResult = function(result) {
                const resultMessage = gameResultMessage.get(result);
                alert(resultMessage);
            }

            // í˜„ì¬ í”Œë ˆì´ì–´ì˜ ì´ë¦„ì„ ë°˜í™˜ 
            this.getCurrentPlayerName = function() {
                return currentPlayer.getName();
            }

            // ëª¨ë“  í”Œë ˆì´ì–´ë¥¼ ì´ˆê¸°í™” 
            this.resetAllPlayer = function() {
                alert("í”Œë ˆì´ì–´ì˜ ê¸°ë¡ì„ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.ğŸ’¥");
                firstPlayer = null; 
                secondPlayer = null; 
            }
        }

    </script>
</body>
</html>
