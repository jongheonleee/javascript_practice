<!--

    1. ì„¤ê³„ëŒ€ë¡œ ì½”ë”©í•˜ë‹¤ ë³´ë©´ ë” ì¶”ìƒí™” í•  ìˆ˜ ìˆì„ ë•ŒëŠ” ì–´ë–»ê²Œí•´ì•¼í•˜ëŠ”ê°€?
    2. ì„¤ê³„ëŒ€ë¡œ ì½”ë”©í•˜ë‹¤ê°€ ë” ì¢‹ì€ ìƒê°ì´ ë‚˜ë©´ ì–´ë–»ê²Œ í•´ì•¼í•˜ëŠ”ê°€?
    3. ì„¤ê³„ëŒ€ë¡œ ì½”ë”©í•˜ë‹¤ê°€ ë°˜ë³µë˜ëŠ” ì½”ë“œê°€ ë³´ì´ë©´ ì–´ë–»ê²Œ í•´ì•¼í•˜ëŠ”ê°€?

-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #myApp {
            justify-content: center;
            align-items: center;
            display: flex;
        }
        #btnArea {
            margin: 0 auto;
        }
        #greedyBtn {
            border: 20px solid red;
            background-color: red;
            border-radius: 10px;
        }
        .area {
            float : left;
            display : inline;
        }

        .textArea {
            width: 20em;
            height: 20em;
        }

        .btn {
            border: 3px solid yellowgreen;
            background-color: green;
            border-radius: 10px;
        }

        .title {
            text-align: center;
        }

        .addBtnArea {       
            margin-left : 6em;
            position: relative;     
            display: inline;
        }
        body {
            background-image: url("img/greedy2.png");
        }
        option {
            font-style: italic;
            font-size: 20px;
            margin-top: 18px;
            margin-bottom: 18px;
            text-align: center;
        }
    </style>
</head>

<body>
    <h1 class="title">ì •ì„ì½”ë”© Quiz3</h1>


    <h2 class="title">ìŒì‹ ì¶”ê°€í•˜ê¸° ğŸ˜‹</h2>

    <div class="addBtnArea">
        <input id = "leftInput" type="text">
        <button class="btn" value="í•˜ëŠ˜" onclick="addItem('leftInput')">ì§±êµ¬ì—ê²Œ ìŒì‹ ì¶”ê°€</button>
    </div>

    <div class="addBtnArea">
        <input id = "rightInput" type="text">
        <button class="btn" value ="ì—¬ëŠ˜" onclick="addItem('rightInput')">ì—¬ëŠ˜ì—ê²Œ ìŒì‹ ì¶”ê°€</button>
    </div>
    
    <br>
    <h2 class="title">ìŒì‹ í…Œì´ë¸” í˜„í™© ğŸ½ï¸</h2>
    <!-- 3ë¶„í•  -->
    <div id="myApp"ì¶•êµ¬>
        <!-- 1. ì„ íƒì§€ ì˜µì…˜ -->
        <div class = "area">
            <h1 class="title">ì§±êµ¬ ğŸ™‹ğŸ»â€â™‚ï¸</h1>
            <select id= "leftArea" class = "textArea" multiple>
                <option value="ğŸ¥“" class="item" onclick="select(this)">ğŸ¥“</option>
                <option value="ğŸ—" class="item" onclick="select(this)">ğŸ—</option>
                <option value="ğŸ–" class="item" onclick="select(this)">ğŸ–</option>
                <option value="ğŸ•" class="item" onclick="select(this)">ğŸ•</option>
            </select>
        </div>


        <!-- 2. ë³€í˜• ë²„íŠ¼ -->
        <div id = "btnArea" class = "area">
            <butoon style="display: block;" value="moveRight" onclick="moveSelected('right')" class="btn">></butoon>
            <br>
            <butoon style="display: block;" value="moveLeft" onclick="moveSelected('left')" class="btn"><</butoon>
            <br>
            <butoon style="display: block;" onclick="moveAll('right')" class="btn">>></butoon>
            <br>
            <butoon style="display: block;" onclick="moveAll('left')" class="btn"><<</butoon>
        </div>

        <!-- 3. ì˜ì—­ì— ë„ì›Œì£¼ê¸° -->
        <div class = "area">
            <h1 class="title">ì—¬ëŠ˜ ğŸ™‹ğŸ»</h1>
            <select id= "rightArea" class="textArea" multiple>
                
            </select>
        </div>
    </div>

    <h2 class="title">ìš•ì‹¬ìŸì´ëŠ”?!</h2>
        <!-- ì•„ì´í…œ ì…ë ¥ -->
        <div class="title">
            <button id="greedyBtn" onclick="judgeGreedy()">ì¶œë ¥</button>
        </div>
    <script>
        // ì„¤ê³„
        // 5ê°€ì§€ ê¸°ëŠ¥ - ì„ íƒ, ì˜®ê¹€, ì—…ë°ì´íŠ¸, ì¶”ê°€, íŒë‹¨
            // 1. ì„ íƒ âœ…
            
            // 2. ì˜®ê¹€ âœ…
               // 2-1. ì„ íƒí•œ ê²ƒë“¤ì„ ì˜®ê¹€ âœ…
                    // 2-1-1. ì™¼ìª½ -> ì˜¤ë¥¸ìª½ âœ…

                    // 2-1-2. ì˜¤ë¥¸ìª½ -> ì™¼ìª½ âœ…

               // 2-2. ëª¨ë“  ê²ƒì„ ì˜®ê¹€ âœ…
                    // 2-2-1. ì™¼ìª½ -> ì˜¤ë¥¸ìª½ âœ…
                    
                    // 2-2-2. ì˜¤ë¥¸ìª½ -> ì™¼ìª½ âœ…

            // 3. ì—…ë°ì´íŠ¸ âœ…

            // 4. ì¶”ê°€ âœ… (ì•„ì´í…œ ì¶”ê°€)
                // 4-1. ì™¼ìª½ ì˜ì—­ì— ì¶”ê°€ âœ…

                // 4-2. ì˜¤ë¥¸ìª½ ì˜ì—­ì— ì¶”ê°€ âœ…

            // 5. íŒë‹¨ âœ… (ìš•ì‹¬ìŸì´ íŒë‹¨)


        let selectedItems = [];  // ì„ íƒëœ ì•„ì´í…œ ë‹´ê¸°

        // ë©”ì„œë“œì—ì„œ ë°˜ë³µ ì°¸ì¡°í•˜ëŠ” ê²ƒë“¤ì€ ì „ì—­ ë³€ìˆ˜ë¡œ ì‚¬ìš©
        const leftArea = document.getElementById("leftArea"); // ì™¼ìª½ ì˜ì—­ íƒœê·¸ ì°¸ì¡°
        const rightArea = document.getElementById("rightArea"); // ì˜¤ë¥¸ìª½ ì˜ì—­ íƒœê·¸ ì°¸ì¡° 

        const leftAreaNodes = leftArea.childNodes; // ì™¼ìª½ ì˜ì—­ íƒœê·¸ì˜ ìì‹ ë…¸ë“œë“¤ ì°¸ì¡°
        const rightAreaNodes = rightArea.childNodes; //ì˜¤ë¥¸ì¡± ì˜ì—­ íƒœê·¸ì˜ ìì‹ ë…¸ë“œë“¤ ì°¸ì¡° 
        

        // 5ê°€ì§€ ê¸°ëŠ¥ - ì„ íƒ, ì˜®ê¹€, ì—…ë°ì´íŠ¸, ì¶”ê°€, íŒë‹¨ 

        // 1. ì„ íƒ  âœ…
        function select(e) {
            selectedItems.push(e.value); // ì„ íƒí•œ ê²ƒë“¤ ë°°ì—´ì— ë‹´ì•„ì£¼ê¸°
        }

        
        // 2-1. ì„ íƒí•œ ê²ƒë“¤ë§Œ ì˜®ê¹€ âœ…
        function moveSelected(direction) {
            if (direction === "right") { // ì™¼ìª½ì—ì„œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™í•˜ëŠ” ê²½ìš°
                moveSelectedLeftToRight();
            }
            else if (direction === "left") { // ì˜¤ë¥¸ìª½ì—ì„œ ì™¼ìª½ìœ¼ë¡œ ì´ë™í•˜ëŠ” ê²½ìš°
                moveSelectedRightToLeft();
            }
        }

        // 2-1-1. ì„ íƒí•œ ê²ƒë“¤ì„ ì™¼ìª½ -> ì˜¤ë¥¸ìª½  âœ…
        function moveSelectedLeftToRight() {
            let rightInnerHTML = ""; // ì˜¤ë¥¸ìª½ ì˜ì—­ì˜ ë‚´ë¶€ html
            let leftInnerHTML = ""; // ì™¼ìª½ ì˜ì—­ì˜ ë‚´ë¶€ html
            
            for (node of leftAreaNodes) {
                if (typeof node.value === "undefined") { // undefined ê±¸ëŸ¬ì£¼ê¸°
                    continue;
                }

                const target = node.value;
                if (selectedItems.indexOf(target) === -1) { // ì„ íƒí•œ ê²ƒë“¤ì´ ì•„ë‹Œ ê²½ìš° 
                    leftInnerHTML += `<option value=${target} class ='item' onclick="select(this)">${target}</option>`; // ì™¼ìª½ ì˜ì—­ì˜ ë‚´ë¶€(ê¸°ì¡´ì˜ ìœ„ì¹˜) htmlì— ë„£ì–´ì¤Œ
                } else if (selectedItems.indexOf(target) !== -1) {
                    rightInnerHTML += `<option value=${target} class = 'item' onclick="select(this)">${target}</option>`; // ì˜¤ë¥¸ìª½ ì˜ì—­ì˜ ë‚´ë¶€(ì´ë™í•  ìœ„ì¹˜) htmlì— ë„£ì–´ì¤Œ
                }
            }

            htmlUpdate(leftInnerHTML, rightInnerHTML, "right"); // ê° ì˜ì—­ì˜ ë‚´ë¶€ html ì—…ë°ì´íŠ¸
        }

        // 2-1-2. ì„ íƒí•œ ê²ƒë“¤ì„ ì˜¤ë¥¸ìª½ -> ì™¼ìª½ âœ…
        function moveSelectedRightToLeft() {
            let rightInnerHTML = ""; // ì˜¤ë¥¸ìª½ ì˜ì—­ì˜ ë‚´ë¶€ html 
            let leftInnerHTML = ""; // ì™¼ìª½ ì˜ì—­ì˜ ë‚´ë¶€ html 

            for (node of rightAreaNodes) {
                if (typeof node.value === "undefined" ) continue; // undefined ê±¸ëŸ¬ì£¼ê¸° 
    
                const target = node.value;
                if (selectedItems.indexOf(target) === -1) { // ì„ íƒí•œ ê²ƒë“¤ì´ ì•„ë‹Œ ê²½ìš° 
                    rightInnerHTML += `<option value=${target} class = 'item' onclick="select(this)">${target}</option>`; // ì˜¤ë¥¸ìª½ ì˜ì—­ì˜ html íƒœê·¸ ì¶”ê°€ 
                } else if (selectedItems.indexOf(target) !== -1) {
                    leftInnerHTML += `<option value=${target} class = 'item' onclick="select(this)">${target}</option>`; // ì™¼ìª½ ì˜ì—­ì˜ html íƒœê·¸ ì¶”ê°€ 
                }
            }

            htmlUpdate(leftInnerHTML, rightInnerHTML, "left"); // ì—…ë°ì´íŠ¸ 
        }
            
        // 2-2. ëª¨ë“  ê²ƒë“¤ì„ ì˜®ê¹€ âœ…
        function moveAll(direction) {
            if (direction === "right") { // ì™¼ìª½ì—ì„œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™í•˜ëŠ” ê²½ìš°
                moveAllLeftToRight();
            } else if (direction === "left") { // ì˜¤ë¥¸ìª½ì—ì„œ ì™¼ìª½ìœ¼ë¡œ ì´ë™í•˜ëŠ” ê²½ìš°
                moveAllRightToLeft();
            }
        }

        // 2-2-1. ëª¨ë“  ê²ƒë“¤ì„ ì™¼ìª½ -> ì˜¤ë¥¸ìª½ âœ…
        function moveAllLeftToRight() {
            let rightInnerHTML = ""; // ì˜¤ë¥¸ìª½ ì˜ì—­ì˜ ë‚´ë¶€ html 
            for (node of leftAreaNodes) {
                if (typeof node === "undefined" || typeof node.value === "undefined") continue; // undefined ê±¸ëŸ¬ì£¼ê¸° 
                
                const target = node.value;
                rightInnerHTML += `<option value=${target} class = 'item' onclick="select(this)">${target}</option>`; // ì˜¤ë¥¸ìª½ ì˜ì—­ì˜ html íƒœê·¸ ì¶”ê°€ 
            }

            htmlUpdate("", rightInnerHTML, "right"); // ì—…ë°ì´íŠ¸ 
        }

        // 2-2-2. ëª¨ë“ ê²ƒë“¤ì„ ì˜¤ë¥¸ìª½ -> ì™¼ìª½ âœ…
        function moveAllRightToLeft() {
            let leftInnerHTML = ""; // ì™¼ìª½ ì˜ì—­ì˜ ë‚´ë¶€ html 
            for (node of rightAreaNodes) {
                if (typeof node === "undefined" || typeof node.value === "undefined") continue; // undefined ê±¸ëŸ¬ì£¼ê¸° 
                
                const target = node.value;
                leftInnerHTML += `<option value=${target} class = 'item' onclick="select(this)">${target}</option>`; // ì™¼ìª½ ì˜ì—­ì˜ html íƒœê·¸ ì¶”ê°€ 
            }

            htmlUpdate(leftInnerHTML, "", "left"); // ì—…ë°ì´íŠ¸ 

        }

        // 3. ê° ì˜ì—­ì˜ html ì—…ë°ì´íŠ¸ âœ…
        function htmlUpdate(leftInnerHTML = "", rightInnerHTML = "", direction) {
            if (direction === "left") { // ì™¼ìª½ìœ¼ë¡œ ì´ë™í•œ ê²½ìš°
                leftArea.innerHTML += leftInnerHTML; 
                rightArea.innerHTML = rightInnerHTML;
            } else if (direction === "right") { // ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™í•œ ê²½ìš° 
                leftArea.innerHTML = leftInnerHTML;
                rightArea.innerHTML += rightInnerHTML;
            }

            selectedItems = []; // ì„ íƒ ë°°ì—´ ì´ˆê¸°í™” 
        }

        // 4. ì•„ì´í…œ ì¶”ê°€ âœ…
        function addItem(direction) {
            if (direction === "leftInput") { // ì™¼ìª½ì— ì¶”ê°€í•˜ëŠ” ê²½ìš°
                addItemLeft(direction);
            }
            else if (direction === "rightInput") { // ì˜¤ë¥¸ìª½ì— ì¶”ê°€í•˜ëŠ” ê²½ìš°
                addItemRight(direction);
            }
        }

        // 4-1. ì™¼ìª½(í•˜ëŠ˜)ì— ì•„ì´í…œ ì¶”ê°€ âœ…
        function addItemLeft(direction) {
            const target = document.getElementById(direction).value; // ì¶”ê°€ëœ ì•„ì´í…œ ê°’ ì°¸ì¡° 
            leftArea.innerHTML +=  `<option value=${target} class = 'item' onclick="select(this)">${target}</option>`; // ì™¼ìª½ ì˜ì—­ì— ë‚´ë¶€ htmlì— íƒœê·¸ ì¶”ê°€
        }

        // 4-2. ì˜¤ë¥¸ìª½(ì—¬ëŠ˜)ì— ì•„ì´í…œ ì¶”ê°€ âœ…
        function addItemRight(direction) {
            const target = document.getElementById(direction).value; // ì¶”ê°€ëœ ì•„ì´í…œ ê°’ ì°¸ì¡° 
            rightArea.innerHTML += `<option value=${target} class = 'item' onclick="select(this)">${target}</option>`; // ì˜¤ë¥¸ìª½ ì˜ì—­ì— ë‚´ë¶€ htmlì— íƒœê·¸ ì¶”ê°€
        }

        // 5. íŒë‹¨(ìš•ì‹¬ìŸì´ íŒë‹¨) âœ…
        function judgeGreedy() {
            if (leftAreaNodes.length > rightAreaNodes.length) { // ì™¼ìª½ ì˜ì—­ì˜ ìì‹ ë…¸ë“œë“¤ì´ ë§ì€ ê²½ìš° 
                alert("ì§±êµ¬ğŸ¤·ğŸ»â€â™‚ï¸ê°€ ìš•ì‹¬ìŸì´êµ°!!");
            } else if (leftAreaLength < rightAreaLength) { // ì˜¤ë¥¸ìª½ ì˜ì—­ì˜ ìì‹ ë…¸ë“œë“¤ì´ ë§ì€ ê²½ìš° 
                alert("ì—¬ëŠ˜ğŸ¤·ğŸ»ì´ê°€ ìš•ì‹¬ìŸì´êµ°!!");
            } else { // ì„œë¡œ ìì‹ ë…¸ë“œë“¤ì˜ ê°œìˆ˜ê°€ ê°™ì€ ê²½ìš°
                alert("ë­ì•¼?! ë„ì°ê°œì°ì´ë„¤");
            }
        }
        
    </script>
</body>
</html>